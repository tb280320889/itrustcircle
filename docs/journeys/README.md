# 03 用户旅程

用户旅程定义 iTrustCircle 三个角色的完整行为流程，从用户视角描述产品的实际使用场景和交互细节。

## 旅程概览

### Tower 旅程（塔台控制台）
**目标**：建立可靠的警报接收和通知中心
**核心价值**：家庭安全的中枢，连接哨兵和联系人
**阅读顺序**：[tower.md](./tower.md) → 对应 ADR 和 Failure Modes

### Sentinel 旅程（哨兵守护）
**目标**：无感守护，智能触发，可靠上报
**核心价值**：个人安全的守护者，关键时刻的自动求助
**阅读顺序**：[sentinel.md](./sentinel.md) → 对应 ADR 和 Failure Modes

### Contact 旅程（联系人响应）
**目标**：快速获取信息，采取有效行动
**核心价值**：紧急情况的及时响应者，无需安装应用
**阅读顺序**：[contact.md](./contact.md) → 对应 Failure Modes

## A-F 结构定义

每个用户旅程都遵循标准的 A-F 六章结构：

### A 章：目标与范围
- **A1 用户目标**：用户使用该功能想要达成的目标
- **A2 成功定义**：如何判断用户目标是否达成
- **作用**：明确价值主张，为后续流程设定方向

### B 章：参与者与前置条件
- **B1 参与者**：涉及的所有角色及其职责
- **B2 前置条件**：开始旅程前必须满足的条件
- **作用**：明确边界条件和依赖关系

### C 章：主流程（Happy Path）
- **核心步骤**：正常情况下的完整操作流程
- **关键输出**：每个步骤的预期结果和产物
- **作用**：定义产品核心价值和主要功能

### D 章：备选/分支流程
- **异常情况**：常见的变体和特殊情况处理
- **边界条件**：功能范围边缘的处理方式
- **作用**：提高产品的健壮性和适应性

### E 章：失败模式与恢复
- **失败场景**：可能遇到的错误和异常
- **恢复策略**：如何从失败中恢复
- **作用**：确保产品的可靠性和用户体验

### F 章：验收与测试点
- **F1 验收点**：功能实现必须满足的技术标准
- **F2 手动检查**：用户可执行的验证步骤
- **作用**：为开发和测试提供明确的判断标准

## 旅程间关系图

```
Tower 旅程                    Sentinel 旅程                    Contact 旅程
├── C1: 首次配置              ├── C1: 绑定与守护              ├── C1: 接收通知
├── C2: 接收报警              ├── C2: 断联触发链路            ├── C2: 关键步骤
└── E1: 离线恢复              └── E1: 权限问题              └── E1: 邮件延迟
     │                            │                            │
     └───── BLE断联事件 ──────┘                            │
          │                                              │
          └───── AlertEvent ──────┘                            │
               │                                            │
               └───── Email通知 ─────────────────────────────┘
```

## 与其他文档的关系

### 旅程 → PRD
- PRD 定义角色和需求 → 旅程定义具体行为
- PRD R1-R8 → 旅程 F 章验收点
- PRD 问题场景 → 旅程 E 章失败模式

### 旅程 → ADR
- 旅程 C 章 → ADR 技术实现方案
- 旅程 E 章 → ADR 风险评估和缓解
- 旅程 F 章 → ADR 验证方式

### 旅程 → Failure Modes
- 旅程 E 章 → Failure Modes 具体条目
- 旅程 D 章 → Failure Modes 触发条件
- 旅程 F 章 → Failure Modes 验收方式

### 旅程 → 验收文档
- 旅程 F 章 → 验收用例 AC-TO/SE/CO
- 旅程 C 章 → 端到端测试场景
- 旅程 E 章 → 故障恢复测试

## 质量保证标准

### 一致性要求
- ✅ 所有旅程角色与 PRD 定义完全一致
- ✅ 所有技术术语在 ADR 中有对应定义
- ✅ 所有失败场景在 Failure Modes 中有对应条目

### 完整性要求
- ✅ 每个旅程都包含 A-F 六章
- ✅ 每章至少包含 2 个要点或步骤
- ✅ 每个 F 章都包含可执行的验收点

### 可追踪性要求
- ✅ 每个验收点都能对应到具体的技术实现
- ✅ 每个失败模式都有对应的恢复策略
- ✅ 每个关键步骤都有明确的判断标准
